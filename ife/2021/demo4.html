<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<!--点击按钮时，开始改变 fade-obj 的透明度，开始一个淡出（逐渐消失）动画，直到透明度为0
在动画过程中，按钮的状态变为不可点击
在动画结束后，按钮状态恢复，且文字变成“淡入”
在 按钮显示 淡入 的状态时，点击按钮，开始一个“淡入”（逐渐出现）的动画，和上面类似按钮不可点，直到透明度完全不透明
淡入动画结束后，按钮文字变为“淡出”-->
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>

<script>
    var btn = document.getElementById("fade-btn");
    var oDiv = document.getElementById("fade-obj");
    btn.onclick = function () {
        if (btn.innerHTML == "淡出") {
            btn.innerHTML = "淡入";
            btn.disabled = true;
            console.log("===" + op);
            showOut();
            console.log("===" + op);
        } else {
            btn.innerHTML = "淡出";
            btn.disabled = true;
            showIn();
        }

    }

    var op = 100;
    var t;

    function showOut() {
        op -= 1;
        if (op / 100 < 0) {
            clearTimeout(t);
            btn.disabled = false;
        } else {
            oDiv.style.opacity = op / 100;
            oDiv.style.filter = "alpha(opacity=" + op + ")";
            t = setTimeout("showOut()", 20);
        }
    }

    function showIn() {
        op += 1;
        if (op / 100 > 1) {
            clearTimeout(t);
            btn.disabled = false;
        } else {
            oDiv.style.opacity = op / 100;
            oDiv.style.filter = "alpha(opacity=" + op + ")";
            t = setTimeout("showIn()", 20);
        }
    }


</script>
</body>
</html>